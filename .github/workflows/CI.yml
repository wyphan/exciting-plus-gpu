name: CI
on: [ push, pull_request, workflow_dispatch ]

jobs:
  build:
    runs-on: self-hosted

    steps:

      # Check out repo
      - uses: actions/checkout@v2

      # Build the code with GCC
      - id: build-gcc
        name: "Build Exciting-Plus with GCC"
        shell: bash
        run: ./compile-basecamp.sh gcc > test_build_gcc.log 2>&1

      # Build the code with AOCC/Flang
      - id: build-aocc
        shell: bash
        run: ./compile-basecamp.sh llvm > test_build_aocc.log 2>&1
